# Program to test various string functionality


@testMult:
	# "abc" + "def" == "abcdef"
	LOAD r0, "String concatenation"
	LOAD r1, "abc"
	LOAD r2, "def"
	ADD r1, r1, r2
	LOAD r3, "abcdef"
	IFNE r1, r3
	RETURN

	# "abc" * 2 == "abcabc"
	LOAD r0, "String * 2"
	LOAD r1, "abc"
	LOAD r2, 2
	MULT r1, r1, r2
	LOAD r3, "abcabc"
	IFNE r1, r3
	RETURN
	
	# "abcdef" * 0.5 = "abc"
	LOAD r0, "String * 0.5"
	LOAD r1, "abcdef"
	LOAD r2, 0.5
	MULT r1, r1, r2
	LOAD r3, "abc"
	IFNE r1, r3
	RETURN
	
	# All good!
	LOAD 0, null
	RETURN

@main:
	CALLF 0, @testMult
	BRTRUE r0, error
	LOAD r0, "âœ… All tests passed!"
	RETURN

error:
	LOAD r1, "Test failure: "
	ADD r0, r1, r0
	RETURN
	
	